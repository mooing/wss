<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Module">

	<!-- 根据父id 获取模块数据 -->
	<select id="findAllModule" resultType="Module" >
		select 
		id,
		modname name,
		leaf,
		pid pId,
		sen,
		sort,
		status
	 from
		sys_module  
	</select>
	<select id="findModuleByPid" resultType="Module" parameterType="int">
		select 
		id,
		modname ,
		pid 
	 from
		sys_module  where pid=#{pid}
	</select>
	
	<!-- 增加模块 -->
	<insert id="addModule" parameterType="Module">
		insert into sys_module
		(
		modname ,
		pid 
		)values(
			#{name},
			#{pId}
		)
	</insert>
	<!-- delModule -->
	<delete id="delModule" parameterType="int">
		delete from sys_module where id=#{id}
	</delete>
	<update id="updateModule" parameterType="Module">
		update sys_module set modname=#{name} where id=#{id} 
	</update>
</mapper>